{% for vehicle in vehicleList %}

<div class="pl-10 flex items-center hover:bg-green-300 border border-white flex-row vehicles {{ vehicle.category }} {{ "bags_" ~ vehicle.bags }} {{ "passengers_" ~ vehicle.passengers }}">
    <div class="inline-block w-1/3">
        <img src="{{ vehicle.photoPath }}" class="w-2/3 mx-auto"/>
    </div>
    <div class="flex flex-col pl-20 w-2/3">
        <div>
            <p class="font-bold text-2xl subtype">{{ vehicle.subtype }}</p>
        </div>
        <div class="flex flex-row">
            <div class="w-1/2">
                <p>{{ vehicle.description }}</p><br>
                <div class="flex flex-row">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                            viewbox="0 0 24 24">
                        <path d="m18.92 6.01c18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01l3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zm6.5 16c-.83 0-1.5-.67-1.5-1.5s5.67 13 6.5 13s1.5.67 1.5 1.5s7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 11l1.5-4.5h11l19 11h5z"/>
                        <span>&nbsp;&nbsp;<b class="passengers">{{ vehicle.passengers }}</b></span>&nbsp; people<br></svg>
                </div>

                <div class="flex flex-row">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24"><path d="m20 6h-4v4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2h4c-1.11 0-1.99.89-1.99 2l2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2v8c0-1.11-.89-2-2-2zm-6 0h-4v4h4v2z"/></svg>
                    <span>&nbsp;&nbsp;<b class="bags">{{ vehicle.bags }}</b></span>&nbsp; bags<br></svg>
                </div>
            </div>
            <div>
                <p class="text-lg font-bold">CAD
                    <span class="dailyPrice">{{ vehicle.dailyPrice }}</span>
                </p>
                <button class="btSelect font-bold text-lg px-4 py-1 text-blue-800 bg-yellow-100 border-solid border-teal-800 border-2">Select</button>
                <span class="vehicleId hidden">{{ vehicle.id}}</span>
            </div>
        </div>
    </div>
</div>
{% else %}
<div class="pl-10 flex items-center hover:bg-green-300 border border-white flex-row">
    There is no car avaliable. Go back to previous page.
</div>
{% endfor %}

<script>
    $(document).ready(function () {
        $(".btSelect").click(function () {
            let carTypeId = $(this).next(".vehicleId").text();
            let dailyPrice = $(this).prev().children(".dailyPrice").text();

            if (typeof(Storage) !== "undefined") {
                if(sessionStorage.selCar){
                    let selCar = JSON.parse(sessionStorage.selCar); 
                    selCar.carTypeId = carTypeId;
                    selCar.dailyPrice = dailyPrice;

                    sessionStorage.selCar = JSON.stringify(selCar);
                }
            } else {
                alert("Sorry, your browser does not support web storage...");
            }

            window.location.href = "/review_reserve";
        });
    });
</script>